<!DOCTYPE html>
<html>
  <head>
    <meta charset=utf-8>
    <title>あきーにょcafe</title>

    <script src="http://jashkenas.github.com/coffee-script/extras/coffee-script.js" type="text/javascript" charset="utf-8"></script>
    <script type="text/coffeescript">
      block = [ [ 1, 1 ], [ 0, 1 ], [ 0, 1 ] ]
      posx = 0
      posy = 0

      ctx = ->
        elmTarget = document.getElementById("target")
        elmTarget.getContext("2d")

      window.load = ->
        ctx().fillStyle = "rgb(255, 0, 0)"
        setInterval paint, 200

      window.paint = ->
        ctx().clearRect 0, 0, 200, 400
        y = 0
        while y < block.length
          x = 0
          while x < block[y].length
            ctx().fillRect((x + posx) * 20, (y + posy) * 20, 20, 20) if block[y][x]
            x++
          y++
        posy = posy + 1

      window.clean = ->
        ctx().clearRect 0, 0, 200, 400

    </script>
  </head>
  <body onload="load()">
    <canvas id="target" style="border: 5px solid gray" width="200" height="400"></canvas>
  </body>
</html>
