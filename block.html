<!DOCTYPE html>
<html>
  <head>
    <meta charset=utf-8>
    <title>あきーにょcafe</title>

    <script src="http://jashkenas.github.com/coffee-script/extras/coffee-script.js" type="text/javascript" charset="utf-8"></script>
    <script type="text/coffeescript">
      block = [ [ 1, 1 ], [ 0, 1 ], [ 0, 1 ] ]
      posx = 0
      posy = 0

      ctx = ->
        elmTarget = document.getElementById("target")
        elmTarget.getContext("2d")

      window.load = ->
        ctx().fillStyle = "rgb(255, 0, 0)"
        setInterval paint, 200

      window.paintMatrix = (matrix, offsetx, offsety) ->
        y = 0
        while y < matrix.length
          x = 0
          while x < matrix[y].length
            ctx().fillRect((x + offsetx) * 20, (y + offsety) * 20, 20, 20) if matrix[y][x]
            x++
          y++

      paint = ->
        ctx().clearRect 0, 0, 200, 400
        paintMatrix block, posx, posy
        posy = posy + 1

    </script>
  </head>
  <body onload="load()">
    <canvas id="target" style="border: 5px solid gray" width="200" height="400"></canvas>
  </body>
</html>
